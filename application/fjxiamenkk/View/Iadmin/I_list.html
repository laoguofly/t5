<!DOCTYPE html><html lang="zh-CN">  <head>            <include file="Common:head" />             <include file="Common:Ihead" />   </head>  <body>    <div class="topbar">            <include file="Common:topbar" />     </div>    <div class="header">            <include file="Common:navbar" />     </div>    <div class="main">        <div class="leftNav">             <include file="Common:left" />          </div>         <div class="r_main">             <table class="table table-striped">                 <tr>                     <th></th>                     <th>id</th>                     <th>用户名</th>                 </tr>             <volist name="data" id="data">                <tr>                    <td><input type="checkbox"></td>                    <td class="id">{$data.id}</td>                    <td class="id">{$data.name}</td>                    <td>                        <button class="btn btn-default I_show" value="{$data.id}"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>                        <button class="btn btn-default I_delete id"  value="{$data.id}" ><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>                    </td>                </tr>             </volist>             </table>         </div>    </div><!-- Large modal --><div class="modal fade bs-example-modal-lg" style="padding-top:30px;" id="c" tabindex="-1" role="dialog" >  <div class="modal-dialog ">    <div class="modal-content">        <div class="modal-header">            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>            <h4 class="modal-title">配置文件</h4>        </div>           <form class="form-horizontal" id="myform" action="" method="post">        <div class="modal-body">              <div class="form-group">                      <label for="inputtext3"   class="col-sm-2 control-label">用户名</label>                      <div class="col-sm-9">                          <input type="text" id="name" name="name"  class="form-control"  placeholder="用户名">                         <span  class="sr-only">(不要空白)</span>                      </div>                 </div>                 <div class="form-group">                      <label for="inputtext3"   class="col-sm-2 control-label">密码</label>                      <div class="col-sm-9">                          <input type="text" id="password" name="password"  class="form-control"  placeholder="不填默认不修改">                      </div>                 </div>                 <!--                <div class="form-group">                      <label for="inputtext3"   class="col-sm-2 control-label">电话</label>                      <div class="col-sm-9">                          <input type="text" id="tel" name="tel"  class="form-control"  placeholder="电话">                      </div>                 </div>                 <div class="form-group">                      <label for="inputtext3"   class="col-sm-2 control-label">邮箱</label>                      <div class="col-sm-9">                          <input type="text" id="email" name="email"  class="form-control"  placeholder="邮箱">                      </div>                 </div>                 <div class="form-group">                      <label for="inputtext3"   class="col-sm-2 control-label">qq</label>                      <div class="col-sm-3">                          <input type="text" id="qq" name="qq"  class="form-control"  placeholder="qq">                      </div>                      <label for="inputtext3"   class="col-sm-2 control-label">性别</label>                      <div class="col-sm-3 col-sm-offset-1">                         <select class="form-control" name="sex" id="sex">                            <option name="男">男</option>                            <option name="女">女</option>                            <option name="中性">中性</option>                        </select>                       </div>                 </div>                 <div>                <div class="form-group">                      <label for="inputtext3" class="col-sm-2 control-label">权限</label>                      <div class="col-sm-3">                         <select class="form-control" name="level" id="level">                            <option value="1">1</option>                            <option value="2">2</option>                            <option value="3">3</option>                        </select>                       </div>                      <label for="inputtext3" class="col-sm-2  control-label">是否启用</label>                      <div class="col-sm-3 col-sm-offset-1">                         <select class="form-control " name="on_off" id="on_off">                            <option value="on">启用</option>                            <option value="off">关闭</option>                        </select>                       </div>                 </div>                </div>                 -->        </div>        <div class="modal-footer">           <input type="hidden" id="id" value="" >           <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>            <button type="button"  class="btn btn-primary submit">提交</button>        </div>            </form>    </div>  </div></div>            <include file="Common:footer" />         <script>    $(document).ready(function(){        //ajax 提交        $("#c .submit").click(function(){                    if(!is_text("#name",/[^\s]/)){                return 0;            }                    var data={};            data['name'] = $('#name').val();            data['id'] =  $('#id').val();            data['password'] =  $('#password').val();            //alert(JSON.stringify(data));            $.post("__MODULE__/Imaster/update",data,function(data){                if(data){                    window.location.reload();                    //alert(data);                }else{                   alert("修改失败");                }                });         });        $(".I_delete").click(function(){            var id = $(this).attr("value");            $.get("__MODULE__/Imaster/delete?id="+id,function(data){                if(data=="1"){                    window.location.reload();                }else{                   alert("删除失败");                }                });        });        $(".I_show").click(function(){            //初始化            $("#myform :checked").attr('checked', false);            $("#myform :text").val("");            //alert("222");            //获取值            var id = $(this).attr("value");                $.get("__MODULE__/Imaster/select?id="+id,function(data){               data = eval("("+data+")");               $("#name").val(data[0]['name']);               $("#id").val(data[0]['id']);               $('#c').modal();            });        });    });        //检查是否为空        function is_text(id,r){         var name = $(id).val();         if(r.test(name)){            $(id).parents(".form-group").removeClass("has-error has-feedback");            $(id).siblings("span").addClass("sr-only");            return 1;         }else{            $(id).parents(".form-group").addClass("has-error has-feedback");            $(id).siblings("span").removeClass("sr-only");            return 0;         }                }      </script>  </body></html>